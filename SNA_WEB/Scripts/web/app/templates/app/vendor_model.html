<!-- 장비관리 -->
{% extends "app/base_site.html" %}

{% block title %} Morris JS {% endblock title %}

{% block stylesheets %}
{{ block.super }}
{% endblock stylesheets %}

{% block content %}
<div class="right_col" role="main">
  <div class="row">
  <div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">
      <div class="x_title">

          <h2>Model 검색</h2>
          <ul class="nav navbar-right panel_toolbox">
          </ul>
          <div class="clearfix"></div>
        </div>
        <div class="x_content">

          <form class="form-horizontal form-label-left">

            <div class="form-group">
              <label class="col-sm-1 control-label">벤더</label>
              <div class="col-sm-3">
                <div class="btn-group">
                  <select class="form-control" style="width: 200px">
                    <option>벤더</option>
                    <option> </option>
                    <option> </option>
                    <option> </option>
                  </select>
                </div>
              </div>
              <label class="col-sm-1 control-label">장비 등급</label>
              <div class="col-sm-3">
                <div class="btn-group">
                  <select class="form-control" style="width: 200px">
                    <option>등급</option>
                    <option> </option>
                    <option> </option>
                    <option> </option>
                  </select>
                </div>
              </div>

              <div class="form-group">
              </div>
              <label class="col-sm-1 control-label">모델</label>
              <div class="col-sm-3">

                <div class="btn-group">
                  <select class="form-control" style="width: 200px">
                    <option>모델</option>
                    <option> </option>
                    <option> </option>
                    <option> </option>
                  </select>
                </div>
              </div>
              <label class="col-sm-1 control-label">장비 종류</label>
              <div class="col-sm-3">
                <div class="btn-group">
                  <select class="form-control" style="width: 200px">
                    <option>종류</option>
                    <option> </option>
                    <option> </option>
                    <option> </option>
                  </select>
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-default middle" style="float: right;">검색</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <div class="x_panel">
        <div class="x_title">

          <h2>Model 리스트</small></h2>

          <ul class="nav navbar-right panel_toolbox">
            <div class="form-group">
              <a href="/vendor_model_register"> <button type="submit" class="btn btn-default">등록</button></a>
              <a href="/code/vendor_model_change/" class="btn btn-default" id="modify">수정</a>
              <a href="/code/vendor_model_delete/" class="btn btn-default" id="delete">삭제</a>
            </div>
          </ul>

          <div class="clearfix"></div>
        </div>
        <div id="grid"></div>
        <script>
          var grid = new tui.Grid({
            el: document.getElementById('grid'),
            bodyHeight: 500,
            scrollX: false,
            scrollY: false,
            minBodyHeight: 30,
            rowHeaders: ['checkbox'],
            pageOptions: {
              useClient:true,
              perPage: 12
            },
            columns: [
              {
                header: 'num',
                name: 'num',
                width: 120,
              },
              {
                header: 'CODE_TYPE',
                name: 'codetype',
                filter: 'select'
              },
              {
                header: 'CODE_VALUE',
                name: 'code_value',
                filter: 'select'
              },
              {
                header: 'NAME',
                name: 'name',
                filter: 'select'
              },
              {
                header: 'UPPER_CODE_TYPE',
                name: 'upper_codetype',
                filter: 'select'
              },
              {
                header: 'UPPER_CODE',
                name: 'upper_code',
                filter: 'select'
              },
            ]
          });

          var vendor_modelData = [  
          {% for c in code %}
            {
              num:"{{c.num}}",
              codetype:"{{c.codetype}}",
              code_value:"{{c.code_value}}",
              name:"{{c.name}}",
              upper_codetype:"{{c.upper_codetype}}",
              upper_code:"{{c.upper_code}}"
            },
          {% endfor %}
          ];
          grid.resetData(vendor_modelData);

            grid.on('check', (ev) => {
             console.log(grid.getRow(ev.rowKey).num);
             selected_id = grid.getRow(ev.rowKey).num 
             console.log("selected_id : " , selected_id)
             var loc = "/code/vendor_model_change/" + grid.getRow(ev.rowKey).num; 
             document.getElementById("modify").href=loc;
             var loc = "/code/vendor_model_delete/" + grid.getRow(ev.rowKey).num; 
             document.getElementById("delete").href=loc;
          });   
        </script>
      </div>
    </div>
  </div>
</div>









{% endblock content %}

{% block javascripts %}
{{ block.super }}

<script src="/static/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="/static/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
<script src="/static/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="/static/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
<script src="/static/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
<script src="/static/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script src="/static/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
<script src="/static/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
<script src="/static/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
<script src="/static/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="/static/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
<script src="/static/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
<script src="/static/vendors/jszip/dist/jszip.min.js"></script>
<script src="/static/vendors/pdfmake/build/pdfmake.min.js"></script>
<script src="/static/vendors/pdfmake/build/vfs_fonts.js"></script>
{% endblock javascripts %}